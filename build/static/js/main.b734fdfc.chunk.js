(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{29:function(e,t,s){},30:function(e,t,s){},36:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),c=s.n(a),i=s(20),r=s.n(i),l=(s(29),s(4)),o=s(5),h=s(11),j=s(7),d=s(6),b=function(e){Object(j.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)("a",{href:"./",children:Object(n.jsx)("img",{src:"https://hn.algolia.com/packs/media/images/logo-hn-search-a822432b.png",height:"85%",alt:""})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Search "}),Object(n.jsx)("h3",{children:"Hacker News"})]}),Object(n.jsxs)("div",{className:"searchBox",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"https://www.flaticon.com/svg/static/icons/svg/49/49116.svg",height:"20px",alt:""})}),Object(n.jsx)("input",{type:"text",placeholder:"Search stories by title, url or author",onChange:function(t){return e.props.query(t.target.value)}}),Object(n.jsxs)("div",{className:"searchBy",children:["Search by ",Object(n.jsx)("img",{src:"https://hn.algolia.com/packs/media/images/logo-algolia-blue-35c461b6.svg"})]})]}),Object(n.jsx)("a",{href:"./setting",style:{marginLeft:"auto",textDecoration:"none",color:"black",height:"50%"},children:Object(n.jsx)("div",{className:"setting",style:{height:"100%"},children:Object(n.jsx)("img",{src:"https://www.flaticon.com/svg/static/icons/svg/2099/2099058.svg",height:"20px",alt:""})})})]})}}]),s}(a.Component),u=s(16),p=s.n(u),x=s(21),O=s.n(x),g=function(e){Object(j.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=this,t=p.a.timeDiff(new Date,p.a.dateString(this.props.news.created_at)),s=O()(1e3*t).split(",")[0],a=this.props.news.url,c=this.props.news.story_text,i=this.props.news.comment_text;return Object(n.jsxs)("div",{className:"news",children:[Object(n.jsxs)("div",{className:"news-title",children:[Object(n.jsx)("h5",{children:this.props.news.title}),function(){if(a)return Object(n.jsx)("h5",{className:"news-url",children:Object(n.jsx)("a",{href:a,children:a})})}()]}),Object(n.jsx)("br",{}),Object(n.jsxs)("h6",{children:[this.props.news.points," | ",this.props.news.author," | ",this.props.news.num_comments," comments | ",s," ago"]}),Object(n.jsx)("br",{}),function(){if(null!=c)return Object(n.jsx)("div",{className:"news-story",dangerouslySetInnerHTML:{__html:e.props.news.story_text}})}(),Object(n.jsx)("div",{className:"news-story",dangerouslySetInnerHTML:{__html:i}})]})}}]),s}(a.Component),m=function(e){Object(j.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"news-box",children:[0===e.props.news.length&&!1===e.props.loading?Object(n.jsx)("h1",{style:{textAlign:"center"},children:"No News Found"}):0===e.props.news.length&&!0===e.props.loading?Object(n.jsxs)("h1",{style:{textAlign:"center"},children:[Object(n.jsx)("span",{className:"loader"}),"Loading"]}):void 0,this.props.news.map((function(e){return e.title||e.comment_text?Object(n.jsx)(g,{news:e},e.id):void 0}))]})}}]),s}(a.Component),v=function(e){Object(j.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"filter-box",children:[Object(n.jsx)("label",{for:"search",children:"Search"}),Object(n.jsxs)("select",{name:"search",id:"search",onChange:function(t){return e.props.tags(t.target.value)},children:[Object(n.jsx)("option",{value:"",children:"All"}),Object(n.jsx)("option",{value:"story",children:"Stories"}),Object(n.jsx)("option",{value:"comment",children:"Comments"})]}),Object(n.jsx)("label",{for:"by",children:" By"}),Object(n.jsxs)("select",{name:"by",id:"by",onChange:function(t){return e.props.sort(t.target.value)},children:[Object(n.jsx)("option",{value:"search",children:"Popularity"}),Object(n.jsx)("option",{value:"search_by_date",children:"Date"})]}),Object(n.jsx)("label",{for:"for",children:" for"}),Object(n.jsxs)("select",{name:"for",id:"for",onChange:function(t){return e.props.range(t.target.value)},children:[Object(n.jsx)("option",{value:"",children:"All time"}),Object(n.jsx)("option",{value:"created_at_i%3E86400",children:"Last 24 hr"}),Object(n.jsx)("option",{value:"created_at_i%3E604800",children:"Past Week"}),Object(n.jsx)("option",{value:"created_at_i%3E2592000",children:"Past Month"}),Object(n.jsx)("option",{value:"created_at_i%3E31536000",children:"Past Year"}),Object(n.jsx)("option",{value:"",children:"Custom Range"})]}),Object(n.jsxs)("h6",{style:{float:"right"},children:[this.props.nbHits," results ",this.props.nbTime/1e3," secs"]})]})}}]),s}(a.Component),y=function(e){Object(j.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"createoptions",value:function(e){for(var t=[],s=0;s<e;s++)t.push(Object(n.jsx)("option",{children:s},s));return t}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{children:function(){if(e.props.totalPage)return Object(n.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"center",margin:"10px 0"},children:[Object(n.jsx)("label",{for:"page",style:{marginRight:"10px"},children:"Page"}),Object(n.jsx)("select",{name:"page",id:"page",onChange:function(t){return e.props.page(t.target.value)},children:e.createoptions(e.props.totalPage).map((function(e){return e}))})]})}()})}}]),s}(a.Component),f=(s(30),s(22)),w=s(2),N=function(e){Object(j.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={},n}return Object(o.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)("a",{href:"./",children:Object(n.jsx)("img",{src:"https://hn.algolia.com/packs/media/images/logo-hn-search-a822432b.png",height:"85%",alt:""})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Search "}),Object(n.jsx)("h3",{children:"Hacker News"})]}),Object(n.jsx)("a",{href:"./",style:{marginLeft:"auto",textDecoration:"none",color:"black",height:"50%"},children:Object(n.jsx)("div",{className:"setting home",style:{height:"100%"},children:Object(n.jsx)("img",{src:"https://www.flaticon.com/svg/static/icons/svg/271/271220.svg",height:"10px",alt:""})})})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{style:{marginLeft:"10px",marginTop:"10px"},children:"Settings"}),Object(n.jsx)("h5",{style:{marginLeft:"10px",marginBottom:"0px"},children:"Display Options"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"setting-row",children:[Object(n.jsx)("label",{htmlFor:"style",children:"Style"}),Object(n.jsx)("div",{className:"settings-input",children:Object(n.jsxs)("select",{id:"style",children:[Object(n.jsx)("option",{value:"all",children:"Default"}),Object(n.jsx)("option",{value:"story",children:"Experimental"})]})})]}),Object(n.jsxs)("div",{className:"setting-row",children:[Object(n.jsx)("label",{htmlFor:"hits",children:"Hits Per Page"}),Object(n.jsx)("div",{className:"settings-input",children:Object(n.jsxs)("select",{id:"hits",children:[Object(n.jsx)("option",{value:"all",children:"20"}),Object(n.jsx)("option",{value:"story",children:"30"}),Object(n.jsx)("option",{value:"comment",children:"50"})]})})]}),Object(n.jsx)("h5",{style:{marginLeft:"10px",marginBottom:"0px"},children:"Ranking Options"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(n.jsxs)("div",{className:"setting-row",children:[Object(n.jsx)("label",{htmlFor:"style",children:"Default type"}),Object(n.jsx)("div",{className:"settings-input",children:Object(n.jsxs)("select",{id:"style",children:[Object(n.jsx)("option",{value:"all",children:"All"}),Object(n.jsx)("option",{value:"story",children:"Stories"}),Object(n.jsx)("option",{value:"comment",children:"Comments"})]})})]}),Object(n.jsxs)("div",{className:"setting-row",children:[Object(n.jsx)("label",{htmlFor:"style",children:"Default type"}),Object(n.jsx)("div",{className:"settings-input",children:Object(n.jsxs)("select",{id:"style",children:[Object(n.jsx)("option",{value:"all",children:"Most recent firtst"}),Object(n.jsx)("option",{value:"story",children:"Most popular firtst"})]})})]}),Object(n.jsxs)("div",{className:"setting-row",children:[Object(n.jsx)("label",{htmlFor:"style",children:"Default Date Range"}),Object(n.jsx)("div",{className:"settings-input",children:Object(n.jsxs)("select",{id:"style",children:[Object(n.jsx)("option",{value:"all",children:"Forever"}),Object(n.jsx)("option",{value:"story",children:"Last Day"}),Object(n.jsx)("option",{value:"comment",children:"Last week"}),Object(n.jsx)("option",{value:"comment",children:"Last month"}),Object(n.jsx)("option",{value:"comment",children:"Last year"})]})})]}),Object(n.jsxs)("div",{className:"setting-row",children:[Object(n.jsx)("label",{htmlFor:"style",children:"Use story text for search"}),Object(n.jsx)("div",{className:"settings-input",children:Object(n.jsx)("input",{type:"checkbox",name:"",id:""})})]}),Object(n.jsxs)("div",{className:"setting-row",children:[Object(n.jsx)("label",{htmlFor:"style",children:"Use the author's username for search"}),Object(n.jsx)("div",{className:"settings-input",children:Object(n.jsx)("input",{type:"checkbox",name:"",id:""})})]}),Object(n.jsxs)("div",{className:"setting-row",children:[Object(n.jsx)("label",{htmlFor:"style",children:"Typo-tolerance"}),Object(n.jsx)("div",{className:"settings-input",children:Object(n.jsx)("input",{type:"checkbox",name:"",id:""})})]})]})]}),Object(n.jsx)("div",{style:{width:"90%",textAlign:"end",padding:"0 5%"},children:Object(n.jsx)("button",{style:{padding:"10px",backgroundColor:"#ff742b",border:"none",color:"white",borderRadius:"5px",outline:"none"},children:"Apply"})})]})}}]),s}(a.Component),k=function(e){Object(j.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).updateFilter=n.updateFilter.bind(Object(h.a)(n)),n.updateQuery=n.updateQuery.bind(Object(h.a)(n)),n.updateSort=n.updateSort.bind(Object(h.a)(n)),n.updateRange=n.updateRange.bind(Object(h.a)(n)),n.updatePage=n.updatePage.bind(Object(h.a)(n)),n.state={news:[],nbHits:"",nbTime:null,sort:"search",tags:"",query:"",range:"",page:0,totalPage:null,loading:!1},n}return Object(o.a)(s,[{key:"updateFilter",value:function(e){this.setState({tags:e}),this.updateNews(e,this.state.query,this.state.sort,this.state.range,this.state.page)}},{key:"updateQuery",value:function(e){this.setState({query:e}),this.updateNews(this.state.tags,e,this.state.sort,this.state.range,this.state.page)}},{key:"updateSort",value:function(e){this.setState({sort:e}),this.updateNews(this.state.tags,this.state.query,e,this.state.range,this.state.page)}},{key:"updateRange",value:function(e){this.setState({range:e,sort:"search_by_date"}),this.updateNews(this.state.tags,this.state.query,"search_by_date",e,this.state.page)}},{key:"updatePage",value:function(e){console.log(e,"page"),this.updateNews(this.state.tags,this.state.query,this.state.sort,this.state.range,e)}},{key:"updateNews",value:function(e,t,s,n,a){var c=this;this.setState({loading:!0}),fetch("https://hn.algolia.com/api/v1/".concat(s,"?query=").concat(t,"&tags=").concat(e,"&numericFilters=").concat(n,"&page=").concat(a)).then((function(e){return e.json()})).then((function(i){console.log(i,"https://hn.algolia.com/api/v1/".concat(s,"?query=").concat(t,"&tags=").concat(e,"&numericFilters=").concat(n,"&page=").concat(a)),c.setState({news:i.hits,nbHits:i.nbHits,nbTime:i.processingTimeMS,totalPage:i.nbPages,loading:!1})})).catch((function(){c.setState({news:[],totalPage:!1,loading:!1})}))}},{key:"componentDidMount",value:function(){this.updateNews("","","search","",0)}},{key:"render",value:function(){return Object(n.jsxs)(f.a,{children:[Object(n.jsx)(w.a,{path:"/",exact:!0,children:Object(n.jsxs)("div",{children:[Object(n.jsx)(b,{query:this.updateQuery}),Object(n.jsx)(v,{tags:this.updateFilter,sort:this.updateSort,range:this.updateRange,nbHits:this.state.nbHits,nbTime:this.state.nbTime}),Object(n.jsx)(m,{news:this.state.news,loading:this.state.loading}),Object(n.jsx)(y,{page:this.updatePage,totalPage:this.state.totalPage})]})}),Object(n.jsx)(w.a,{path:"/setting",exact:!0,children:Object(n.jsx)(N,{})})]})}}]),s}(a.Component),S=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,37)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;s(e),n(e),a(e),c(e),i(e)}))};r.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(k,{})}),document.getElementById("root")),S()}},[[36,1,2]]]);
//# sourceMappingURL=main.b734fdfc.chunk.js.map