(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{16:function(t,e,s){},17:function(t,e,s){},18:function(t,e,s){"use strict";s.r(e);var a=s(0),n=s(1),i=s.n(n),c=s(9),r=s.n(c),o=(s(16),s(2)),h=s(3),l=s(6),u=s(5),j=s(4),p=(s(17),function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var t=this;return Object(a.jsxs)("header",{className:"header",children:[Object(a.jsx)("a",{href:"./",children:Object(a.jsx)("img",{src:"https://hn.algolia.com/packs/media/images/logo-hn-search-a822432b.png",height:"85%",alt:""})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Search "}),Object(a.jsx)("h3",{children:"Hacker News"})]}),Object(a.jsxs)("div",{className:"searchBox",children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"https://www.flaticon.com/svg/static/icons/svg/49/49116.svg",height:"20px",alt:""})}),Object(a.jsx)("input",{type:"text",placeholder:"Search stories by title, url or author",onChange:function(e){return t.props.query(e.target.value)}}),Object(a.jsxs)("div",{className:"searchBy",children:["Search by ",Object(a.jsx)("img",{src:"https://hn.algolia.com/packs/media/images/logo-algolia-blue-35c461b6.svg"})]})]}),Object(a.jsx)("a",{href:"./setting.html",style:{marginLeft:"auto",textDecoration:"none",color:"black",height:"50%"},children:Object(a.jsx)("div",{className:"setting",style:{height:"100%"},children:Object(a.jsx)("img",{src:"https://www.flaticon.com/svg/static/icons/svg/2099/2099058.svg",height:"20px",alt:""})})})]})}}]),s}(n.Component)),b=s(8),d=s.n(b),g=s(10),O=s.n(g),x=function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var t=this,e=d.a.timeDiff(new Date,d.a.dateString(this.props.news.created_at)),s=O()(1e3*e).split(",")[0],n=this.props.news.url,i=this.props.news.story_text,c=this.props.news.comment_text;return Object(a.jsxs)("div",{className:"news",children:[Object(a.jsxs)("div",{className:"news-title",children:[Object(a.jsx)("h5",{children:this.props.news.title}),function(){if(n)return Object(a.jsx)("h5",{className:"news-url",children:Object(a.jsx)("a",{href:n,children:n})})}()]}),Object(a.jsx)("br",{}),Object(a.jsxs)("h6",{children:[this.props.news.points," | ",this.props.news.author," | ",this.props.news.num_comments," comments | ",s," ago"]}),Object(a.jsx)("br",{}),function(){if(null!=i)return Object(a.jsx)("div",{className:"news-story",dangerouslySetInnerHTML:{__html:t.props.news.story_text}})}(),Object(a.jsx)("div",{className:"news-story",dangerouslySetInnerHTML:{__html:c}})]})}}]),s}(n.Component),m=function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"news-box",children:this.props.news.map((function(t){return t.title||t.comment_text?Object(a.jsx)(x,{news:t},t.id):void 0}))})}}]),s}(n.Component),v=function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{className:"filter-box",children:[Object(a.jsx)("label",{for:"search",children:"Search"}),Object(a.jsxs)("select",{name:"search",id:"search",onChange:function(e){return t.props.tags(e.target.value)},children:[Object(a.jsx)("option",{value:"",children:"All"}),Object(a.jsx)("option",{value:"story",children:"Stories"}),Object(a.jsx)("option",{value:"comment",children:"Comments"})]}),Object(a.jsx)("label",{for:"by",children:" By"}),Object(a.jsxs)("select",{name:"by",id:"by",onChange:function(e){return t.props.sort(e.target.value)},children:[Object(a.jsx)("option",{value:"search",children:"Popularity"}),Object(a.jsx)("option",{value:"search_by_date",children:"Date"})]}),Object(a.jsx)("label",{for:"for",children:" for"}),Object(a.jsxs)("select",{name:"for",id:"for",onChange:function(e){return t.props.range(e.target.value)},children:[Object(a.jsx)("option",{value:"",children:"All time"}),Object(a.jsx)("option",{value:"created_at_i%3E86400",children:"Last 24 hr"}),Object(a.jsx)("option",{value:"created_at_i%3E604800",children:"Past Week"}),Object(a.jsx)("option",{value:"created_at_i%3E2592000",children:"Past Month"}),Object(a.jsx)("option",{value:"created_at_i%3E31536000",children:"Past Year"}),Object(a.jsx)("option",{value:"",children:"Custom Range"})]}),Object(a.jsxs)("h6",{style:{float:"right"},children:[this.props.nbHits," results ",this.props.nbTime/1e3," secs"]})]})}}]),s}(n.Component),f=function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"createoptions",value:function(t){for(var e=[],s=0;s<t;s++)e.push(Object(a.jsx)("option",{children:s},s));return e}},{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"center",margin:"10px 0"},children:[Object(a.jsx)("label",{for:"page",style:{marginRight:"10px"},children:"Page"}),Object(a.jsx)("select",{name:"page",id:"page",onChange:function(e){return t.props.page(e.target.value)},children:this.createoptions(this.props.totalPage).map((function(t){return t}))})]})}}]),s}(n.Component),y=function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(t){var a;return Object(o.a)(this,s),(a=e.call(this,t)).updateFilter=a.updateFilter.bind(Object(l.a)(a)),a.updateQuery=a.updateQuery.bind(Object(l.a)(a)),a.updateSort=a.updateSort.bind(Object(l.a)(a)),a.updateRange=a.updateRange.bind(Object(l.a)(a)),a.updatePage=a.updatePage.bind(Object(l.a)(a)),a.state={news:[],nbHits:"",nbTime:null,sort:"search",tags:"",query:"",range:"",page:0,totalPage:null},a}return Object(h.a)(s,[{key:"updateFilter",value:function(t){this.setState({tags:t}),this.updateNews(t,this.state.query,this.state.sort,this.state.range,this.state.page)}},{key:"updateQuery",value:function(t){this.setState({query:t}),this.updateNews(this.state.tags,t,this.state.sort,this.state.range,this.state.page)}},{key:"updateSort",value:function(t){this.setState({sort:t}),this.updateNews(this.state.tags,this.state.query,t,this.state.range,this.state.page)}},{key:"updateRange",value:function(t){this.setState({range:t,sort:"search_by_date"}),this.updateNews(this.state.tags,this.state.query,"search_by_date",t,this.state.page)}},{key:"updatePage",value:function(t){console.log(t,"page"),this.updateNews(this.state.tags,this.state.query,this.state.sort,this.state.range,t)}},{key:"updateNews",value:function(t,e,s,a,n){var i=this;fetch("https://hn.algolia.com/api/v1/".concat(s,"?query=").concat(e,"&tags=").concat(t,"&numericFilters=").concat(a,"&page=").concat(n)).then((function(t){return t.json()})).then((function(c){console.log(c,"https://hn.algolia.com/api/v1/".concat(s,"?query=").concat(e,"&tags=").concat(t,"&numericFilters=").concat(a,"&page=").concat(n)),i.setState({news:c.hits,nbHits:c.nbHits,nbTime:c.processingTimeMS,totalPage:c.nbPages})}))}},{key:"componentDidMount",value:function(){this.updateNews("","","search","",0)}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(p,{query:this.updateQuery}),Object(a.jsx)(v,{tags:this.updateFilter,sort:this.updateSort,range:this.updateRange,nbHits:this.state.nbHits,nbTime:this.state.nbTime}),Object(a.jsx)(m,{news:this.state.news}),Object(a.jsx)(f,{page:this.updatePage,totalPage:this.state.totalPage})]})}}]),s}(n.Component),w=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,19)).then((function(e){var s=e.getCLS,a=e.getFID,n=e.getFCP,i=e.getLCP,c=e.getTTFB;s(t),a(t),n(t),i(t),c(t)}))};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(y,{})}),document.getElementById("root")),w()}},[[18,1,2]]]);
//# sourceMappingURL=main.3335c4a8.chunk.js.map