(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{16:function(e,t,s){},17:function(e,t,s){},18:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),c=s.n(a),i=s(9),r=s.n(i),o=(s(16),s(2)),h=s(3),u=s(6),l=s(5),j=s(4),p=(s(17),function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)("img",{src:"https://hn.algolia.com/packs/media/images/logo-hn-search-a822432b.png",height:"85%",alt:""}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Search "}),Object(n.jsx)("h3",{children:"Hacker News"})]}),Object(n.jsxs)("div",{className:"searchBox",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"https://www.flaticon.com/svg/static/icons/svg/49/49116.svg",height:"20px",alt:""})}),Object(n.jsx)("input",{type:"text",placeholder:"Search stories by title, url or author",onChange:function(t){return e.props.query(t.target.value)}}),Object(n.jsxs)("div",{className:"searchBy",children:["Search by ",Object(n.jsx)("img",{src:"https://hn.algolia.com/packs/media/images/logo-algolia-blue-35c461b6.svg"})]})]}),Object(n.jsx)("div",{className:"setting",children:Object(n.jsx)("img",{src:"https://www.flaticon.com/svg/static/icons/svg/2099/2099058.svg",height:"20px",alt:""})})]})}}]),s}(a.Component)),b=s(8),d=s.n(b),g=s(10),O=s.n(g),v=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t=d.a.timeDiff(new Date,d.a.dateString(this.props.news.created_at)),s=O()(1e3*t).split(",")[0],a=this.props.news.url,c=this.props.news.story_text,i=this.props.news.comment_text;return Object(n.jsxs)("div",{className:"news",children:[Object(n.jsxs)("div",{className:"news-title",children:[Object(n.jsx)("h5",{children:this.props.news.title}),function(){if(a)return Object(n.jsx)("h5",{className:"news-url",children:Object(n.jsx)("a",{href:a,children:a})})}()]}),Object(n.jsx)("br",{}),Object(n.jsxs)("h6",{children:[this.props.news.points," | ",this.props.news.author," | ",this.props.news.num_comments," comments | ",s," ago"]}),Object(n.jsx)("br",{}),function(){if(null!=c)return Object(n.jsx)("div",{className:"news-story",dangerouslySetInnerHTML:{__html:e.props.news.story_text}})}(),Object(n.jsx)("div",{className:"news-story",dangerouslySetInnerHTML:{__html:i}})]})}}]),s}(a.Component),m=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"news-box",children:this.props.news.map((function(e){return e.title||e.comment_text?Object(n.jsx)(v,{news:e},e.id):void 0}))})}}]),s}(a.Component),x=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"filter-box",children:[Object(n.jsx)("label",{for:"search",children:"Search"}),Object(n.jsxs)("select",{name:"search",id:"search",onChange:function(t){return e.props.tags(t.target.value)},children:[Object(n.jsx)("option",{value:"",children:"All"}),Object(n.jsx)("option",{value:"story",children:"Stories"}),Object(n.jsx)("option",{value:"comment",children:"Comments"})]}),Object(n.jsx)("label",{for:"by",children:" By"}),Object(n.jsxs)("select",{name:"by",id:"by",onChange:function(t){return e.props.sort(t.target.value)},children:[Object(n.jsx)("option",{value:"search",children:"Popularity"}),Object(n.jsx)("option",{value:"search_by_date",children:"Date"})]}),Object(n.jsx)("label",{for:"for",children:" for"}),Object(n.jsxs)("select",{name:"for",id:"for",onChange:function(t){return e.props.range(t.target.value)},children:[Object(n.jsx)("option",{value:"",children:"All time"}),Object(n.jsx)("option",{value:"created_at_i%3E86400",children:"Last 24 hr"}),Object(n.jsx)("option",{value:"created_at_i%3E604800",children:"Past Week"}),Object(n.jsx)("option",{value:"created_at_i%3E2592000",children:"Past Month"}),Object(n.jsx)("option",{value:"created_at_i%3E31536000",children:"Past Year"}),Object(n.jsx)("option",{value:"",children:"Custom Range"})]}),Object(n.jsxs)("h6",{style:{float:"right"},children:[this.props.nbHits," results ",this.props.nbTime/1e3," secs"]})]})}}]),s}(a.Component),f=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"createoptions",value:function(e){for(var t=[],s=0;s<e;s++)t.push(Object(n.jsx)("option",{children:s}));return t}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"center"},children:[Object(n.jsx)("label",{for:"page",style:{marginRight:"10px"},children:"Page"}),Object(n.jsx)("select",{name:"page",id:"page",onChange:function(t){return e.props.page(t.target.value)},children:this.createoptions(35).map((function(e){return e}))})]})}}]),s}(a.Component),y=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).updateFilter=n.updateFilter.bind(Object(u.a)(n)),n.updateQuery=n.updateQuery.bind(Object(u.a)(n)),n.updateSort=n.updateSort.bind(Object(u.a)(n)),n.updateRange=n.updateRange.bind(Object(u.a)(n)),n.updatePage=n.updatePage.bind(Object(u.a)(n)),n.state={news:[],nbHits:"",nbTime:null,sort:"search",tags:"",query:"",range:"",page:0},n}return Object(h.a)(s,[{key:"updateFilter",value:function(e){this.setState({tags:e}),this.updateNews(e,this.state.query,this.state.sort,this.state.range,this.state.page)}},{key:"updateQuery",value:function(e){this.setState({query:e}),this.updateNews(this.state.tags,e,this.state.sort,this.state.range,this.state.page)}},{key:"updateSort",value:function(e){this.setState({sort:e}),this.updateNews(this.state.tags,this.state.query,e,this.state.range,this.state.page)}},{key:"updateRange",value:function(e){this.setState({range:e,sort:"search_by_date"}),this.updateNews(this.state.tags,this.state.query,"search_by_date",e,this.state.page)}},{key:"updatePage",value:function(e){console.log(e,"page"),this.updateNews(this.state.tags,this.state.query,this.state.sort,this.state.range,e)}},{key:"updateNews",value:function(e,t,s,n,a){var c=this;fetch("https://hn.algolia.com/api/v1/".concat(s,"?query=").concat(t,"&tags=").concat(e,"&numericFilters=").concat(n,"&page=").concat(a)).then((function(e){return e.json()})).then((function(i){console.log(i,"https://hn.algolia.com/api/v1/".concat(s,"?query=").concat(t,"&tags=").concat(e,"&numericFilters=").concat(n,"&page=").concat(a)),c.setState({news:i.hits,nbHits:i.nbHits,nbTime:i.processingTimeMS})}))}},{key:"componentDidMount",value:function(){this.updateNews("","","search","",0)}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(p,{query:this.updateQuery}),Object(n.jsx)(x,{tags:this.updateFilter,sort:this.updateSort,range:this.updateRange,nbHits:this.state.nbHits,nbTime:this.state.nbTime}),Object(n.jsx)(m,{news:this.state.news}),Object(n.jsx)(f,{page:this.updatePage})]})}}]),s}(a.Component),w=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,19)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;s(e),n(e),a(e),c(e),i(e)}))};r.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root")),w()}},[[18,1,2]]]);
//# sourceMappingURL=main.6550483f.chunk.js.map