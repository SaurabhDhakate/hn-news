(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{16:function(t,e,s){},17:function(t,e,s){},18:function(t,e,s){"use strict";s.r(e);var n=s(0),a=s(1),i=s.n(a),r=s(9),c=s.n(r),o=(s(16),s(2)),h=s(3),l=s(6),u=s(5),j=s(4),p=(s(17),function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var t=this;return Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)("a",{href:"./",children:Object(n.jsx)("img",{src:"https://hn.algolia.com/packs/media/images/logo-hn-search-a822432b.png",height:"85%",alt:""})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Search "}),Object(n.jsx)("h3",{children:"Hacker News"})]}),Object(n.jsxs)("div",{className:"searchBox",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"https://www.flaticon.com/svg/static/icons/svg/49/49116.svg",height:"20px",alt:""})}),Object(n.jsx)("input",{type:"text",placeholder:"Search stories by title, url or author",onChange:function(e){return t.props.query(e.target.value)}}),Object(n.jsxs)("div",{className:"searchBy",children:["Search by ",Object(n.jsx)("img",{src:"https://hn.algolia.com/packs/media/images/logo-algolia-blue-35c461b6.svg"})]})]}),Object(n.jsx)("a",{href:"./setting.html",style:{marginLeft:"auto",textDecoration:"none",color:"black",height:"50%"},children:Object(n.jsx)("div",{className:"setting",style:{height:"100%"},children:Object(n.jsx)("img",{src:"https://www.flaticon.com/svg/static/icons/svg/2099/2099058.svg",height:"20px",alt:""})})})]})}}]),s}(a.Component)),d=s(8),b=s.n(d),g=s(10),O=s.n(g),x=function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var t=this,e=b.a.timeDiff(new Date,b.a.dateString(this.props.news.created_at)),s=O()(1e3*e).split(",")[0],a=this.props.news.url,i=this.props.news.story_text,r=this.props.news.comment_text;return Object(n.jsxs)("div",{className:"news",children:[Object(n.jsxs)("div",{className:"news-title",children:[Object(n.jsx)("h5",{children:this.props.news.title}),function(){if(a)return Object(n.jsx)("h5",{className:"news-url",children:Object(n.jsx)("a",{href:a,children:a})})}()]}),Object(n.jsx)("br",{}),Object(n.jsxs)("h6",{children:[this.props.news.points," | ",this.props.news.author," | ",this.props.news.num_comments," comments | ",s," ago"]}),Object(n.jsx)("br",{}),function(){if(null!=i)return Object(n.jsx)("div",{className:"news-story",dangerouslySetInnerHTML:{__html:t.props.news.story_text}})}(),Object(n.jsx)("div",{className:"news-story",dangerouslySetInnerHTML:{__html:r}})]})}}]),s}(a.Component),v=function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var t=this;return Object(n.jsxs)("div",{className:"news-box",children:[0===t.props.news.length&&!1===t.props.loading?Object(n.jsx)("h1",{style:{textAlign:"center"},children:"No News Found"}):0===t.props.news.length&&!0===t.props.loading?Object(n.jsx)("h1",{style:{textAlign:"center"},children:"Loading ... "}):void 0,this.props.news.map((function(t){return t.title||t.comment_text?Object(n.jsx)(x,{news:t},t.id):void 0}))]})}}]),s}(a.Component),f=function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var t=this;return Object(n.jsxs)("div",{className:"filter-box",children:[Object(n.jsx)("label",{for:"search",children:"Search"}),Object(n.jsxs)("select",{name:"search",id:"search",onChange:function(e){return t.props.tags(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:"All"}),Object(n.jsx)("option",{value:"story",children:"Stories"}),Object(n.jsx)("option",{value:"comment",children:"Comments"})]}),Object(n.jsx)("label",{for:"by",children:" By"}),Object(n.jsxs)("select",{name:"by",id:"by",onChange:function(e){return t.props.sort(e.target.value)},children:[Object(n.jsx)("option",{value:"search",children:"Popularity"}),Object(n.jsx)("option",{value:"search_by_date",children:"Date"})]}),Object(n.jsx)("label",{for:"for",children:" for"}),Object(n.jsxs)("select",{name:"for",id:"for",onChange:function(e){return t.props.range(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:"All time"}),Object(n.jsx)("option",{value:"created_at_i%3E86400",children:"Last 24 hr"}),Object(n.jsx)("option",{value:"created_at_i%3E604800",children:"Past Week"}),Object(n.jsx)("option",{value:"created_at_i%3E2592000",children:"Past Month"}),Object(n.jsx)("option",{value:"created_at_i%3E31536000",children:"Past Year"}),Object(n.jsx)("option",{value:"",children:"Custom Range"})]}),Object(n.jsxs)("h6",{style:{float:"right"},children:[this.props.nbHits," results ",this.props.nbTime/1e3," secs"]})]})}}]),s}(a.Component),m=function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"createoptions",value:function(t){for(var e=[],s=0;s<t;s++)e.push(Object(n.jsx)("option",{children:s},s));return e}},{key:"render",value:function(){var t=this;return Object(n.jsx)("div",{children:function(){if(t.props.totalPage)return Object(n.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"center",margin:"10px 0"},children:[Object(n.jsx)("label",{for:"page",style:{marginRight:"10px"},children:"Page"}),Object(n.jsx)("select",{name:"page",id:"page",onChange:function(e){return t.props.page(e.target.value)},children:t.createoptions(t.props.totalPage).map((function(t){return t}))})]})}()})}}]),s}(a.Component),y=function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(t){var n;return Object(o.a)(this,s),(n=e.call(this,t)).updateFilter=n.updateFilter.bind(Object(l.a)(n)),n.updateQuery=n.updateQuery.bind(Object(l.a)(n)),n.updateSort=n.updateSort.bind(Object(l.a)(n)),n.updateRange=n.updateRange.bind(Object(l.a)(n)),n.updatePage=n.updatePage.bind(Object(l.a)(n)),n.state={news:[],nbHits:"",nbTime:null,sort:"search",tags:"",query:"",range:"",page:0,totalPage:null,loading:!1},n}return Object(h.a)(s,[{key:"updateFilter",value:function(t){this.setState({tags:t}),this.updateNews(t,this.state.query,this.state.sort,this.state.range,this.state.page)}},{key:"updateQuery",value:function(t){this.setState({query:t}),this.updateNews(this.state.tags,t,this.state.sort,this.state.range,this.state.page)}},{key:"updateSort",value:function(t){this.setState({sort:t}),this.updateNews(this.state.tags,this.state.query,t,this.state.range,this.state.page)}},{key:"updateRange",value:function(t){this.setState({range:t,sort:"search_by_date"}),this.updateNews(this.state.tags,this.state.query,"search_by_date",t,this.state.page)}},{key:"updatePage",value:function(t){console.log(t,"page"),this.updateNews(this.state.tags,this.state.query,this.state.sort,this.state.range,t)}},{key:"updateNews",value:function(t,e,s,n,a){var i=this;this.setState({loading:!0}),fetch("https://hn.algolia.com/api/v1/".concat(s,"?query=").concat(e,"&tags=").concat(t,"&numericFilters=").concat(n,"&page=").concat(a)).then((function(t){return t.json()})).then((function(r){console.log(r,"https://hn.algolia.com/api/v1/".concat(s,"?query=").concat(e,"&tags=").concat(t,"&numericFilters=").concat(n,"&page=").concat(a)),i.setState({news:r.hits,nbHits:r.nbHits,nbTime:r.processingTimeMS,totalPage:r.nbPages,loading:!1})})).catch((function(){i.setState({news:[],totalPage:!1,loading:!1})}))}},{key:"componentDidMount",value:function(){this.updateNews("","","search","",0)}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(p,{query:this.updateQuery}),Object(n.jsx)(f,{tags:this.updateFilter,sort:this.updateSort,range:this.updateRange,nbHits:this.state.nbHits,nbTime:this.state.nbTime}),Object(n.jsx)(v,{news:this.state.news,loading:this.state.loading}),Object(n.jsx)(m,{page:this.updatePage,totalPage:this.state.totalPage})]})}}]),s}(a.Component),w=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,19)).then((function(e){var s=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;s(t),n(t),a(t),i(t),r(t)}))};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root")),w()}},[[18,1,2]]]);
//# sourceMappingURL=main.01d4bdf4.chunk.js.map